# 숫자형

자바스크립트는 숫자를 나타내는 2가지의 방법이 있습니다.

1. 일반적인 숫자는 '배정밀도 부동소수점 숫자(double precision floating point number)'로 알려진 64비트 형식의 IEEE-754에 저장됩니다. 
2. 일반적인 숫자는 2^53이상이거나 -2^53이하일 수 없다는 제약 때문에 BigInt라는 자료형이 있습니다.

## 숫자를 입력하는 다양한 방법

만약에 10억을 입력해야한다면 , 

```

// 1. 직접 10억을 쓰는 방식
let billion = 1000000000;
let ms = 0.000001;

//2. 숫자 옆에 'e'를 붙이고 0의 개수를 그 옆에 붙여주는 방식
let billion = 1e9;  // 10억, 1과 9개의 0
let ms = 1e-6;

```

### 16진수,2진수,8진수

16진수는 0x , 2진수는 0b ,8진수는 0o을 사용해 나타낼수 있습니다.

```
let a = 0xFF // 255의 16진수
let b = 0b11111111; // 255의 2진수
let c = 0o377; // 255의 8진수

```

## toString(base)

num.toString(base) 메서드는 base진법으로 num을 표현한 후, 이를 문자형으로 변환해 반환합니다.

```
let num = 255;

alert( num.toString(16) );  // ff
alert( num.toString(2) );   // 11111111

```
base는 2~36까지 쓸 수 있습니다.

- base=16 : 16진수 색, 문자 인코딩 등을 표현할 때 사용합니다. 숫자는 0부터 9, 10 이상의 수는 A부터 F를 사용하여 나타냅니다.
- base=2 : 비트 연산 디버깅에 주로 쓰입니다. 숫자는 0 또는 1이 될 수 있습니다.
- base=36 : 사용할 수 있는 base 중 최댓값으로, 0..9와 A..Z를 사용해 숫자를 표현합니다. 알파벳 전체가 숫자를 나타내는 데 사용되죠. 36 베이스는 url을 줄이는 것과 같이 숫자로 된 긴 식별자를 짧게 줄일 때 유용합니다.

## 어림수 구하기

``` Math.floor ```
소수점 첫째 자리에서 내림(버림).

``` Math.ceil ```
소수점 첫째 자리에서 올림. 

``` Math.round ```
소수점 첫째 자리에서 반올림. 

``` Math.trunc ```
소수부를 무시. 

예를 들어 1.2345가 있는데 소수점 두 번째 자릿수까지만 남겨 1.23을 만들고 싶은 경우에는?

1. 곱하기와 나누기를 이용

```
let num = 1.23456;

alert( Math.floor(num * 100) / 100 ); // 1.23456 -> 123.456 -> 123 -> 1.23
```

2. toFixed(n) 사용

```
let num = 1.23456;

// 소수점 n 번째 수까지의 어림수를 구한 후 이를 문자형으로 반환
// +num.toFixed(5) , Number()를 호출하면 문자형을 숫자형으로 변환할 수 있음
// 또한 Math.round와 유사하게 반올림을 해줌
alert( num.toFixed(2) ); 
```

## 부정확한 계산

숫자는 내부적으로 64비트 형식으로 표현되는데 , 52비틑 숫자를 저장하고 , 11비트는 소수점 위치, 1비트는 부호를 저장하는데 사용됩니다.

```
// 숫자가 너무 커지면 64비트 공간이 넘쳐서 infinity로 처리됨
alert( 1e500 ); // Infinity

//정밀도 손실
alert( 0.1 + 0.2 == 0.3 ); // false

```

**0.1과 0.2를 더하면 0.3이 맞는데 왜 이런일이 발생하는 것일꺼?**

숫자는 0과 1로 이루어진 이진수로 변환되어 연속된 메모리 공간에 저장됩니다.
0.1 , 0.2 같은 분수는 이진법으로 표현하게되면 무한 소수가 됩니다.
예를 들어 1/3을 10진법으로 나타내면 0.3333333..이 되는것 처엄 2진법으로 0.1과 0.2를 정확하게 저장할 수 없습니다.

**그러면 이문제를 어떻게 해결하는 것일까?**

가장 신뢰할 만한 방법은 toFixed(n)메서드를 사용해서 어림수를 만드는 것입니다.

```

let sum = 0.1 + 0.2;
alert( sum.toFixed(2) ); // 0.30

```
toFixed는 항상 문자열을 반환한다는 점에서 유의해야합니다. 
문자형으로 바뀐 숫자를 다시 숫자로 강제변환하려면 단항 덧셈 연산자를 사용하면 됩니다.

```

let sum = 0.1 + 0.2;
alert( +sum.toFixed(2) ); // 0.3

```


## isNaN과 isFinite

- Infinity와 -Infinity – 그 어떤 숫자보다 큰 혹은 작은 특수 숫자 값
- NaN – 에러를 나타내는 값
- isNaN - 인수를 숫자로 변환한다음 NaN인지 테스트 함
- isFinite(value) - 인수를 숫자로 변환하고 , 변호나한 숫자가 NaN/Infinity/-Infinity가 아닌 일반 숫자인 경우 true를 반환함
isFinite는 문자열이 일반 숫자인지 검증하는 데 사용되곤 합니다.

## parseInt와 parseFloat

단항 덧셈 연산자 + 또는 Number()를 사용하여 숫자형으로 변형할 때 피연산자가 숫자가 아니면 형 변환이 실패합니다.

```
alert( +"100px" ); // NaN

```

그런데 100px, 12pt 와 같이 숫자와 단위를 함께 쓰는 경우가 흔합니다.
이런 경우 때문에 parseInt,parseFloat가 만들어졌습니다.

```
alert( parseInt('100px') ); // 100
alert( parseFloat('12.5em') ); // 12.5

alert( parseInt('12.3') ); // 12, 정수 부분만 반환됩니다.
alert( parseFloat('12.3.4') ); // 12.3, 두 번째 점에서 숫자 읽기를 멈춥니다.
```

두 함수는 불가능할 때까지 문자열에서 숫자를 ‘읽습니다’. 
숫자를 읽는 도중 오류가 발생하면 이미 수집된 숫자를 반환합니다.



## 기타 수학 함수


``` Math.random() ``` 
0과 1사이의 난수 발생

``` Math.max(a, b, c...) ``` / ``` Math.min(a, b, c...) ```
인수중에 최대/최소값 반환

``` Math.pow(n, power) ```
n을 power번 거듭제곱한 값을 반환
